<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åŸå§‹å¾é€”ä¹‹é¬¼è°·å­</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Helvetica Neue", sans-serif;
        }
        body {
            background-color: #f5f5f7;
            padding: 10px;
        }
        /* æ ¸å¿ƒï¼šåŸå§‹å¾é€”æ ‡é¢˜æ ·å¼ï¼ˆä¹‹å­—æè‡´ç¼©å°ï¼‰ */
        .title-wrap {
            text-align: center;
            margin: 15px 0;
            position: relative;
            display: inline-block;
            left: 50%;
            transform: translateX(-50%);
            font-family: "Microsoft YaHei", sans-serif;
        }
        .zt-main {
            font-size: 36px;
            color: #000;
            position: relative;
            text-shadow: 
                2px 2px 0 #f9d050, 
                -2px -2px 0 #f9d050,
                2px -2px 0 #f9d050,
                -2px 2px 0 #f9d050;
            display: inline-block;
        }
        .ys-seal {
            position: absolute;
            top: -10px;
            right: -40px;
            width: 30px;
            height: 30px;
            background: #e53935;
            border-radius: 50%;
            color: #fff;
            font-size: 11px;
            text-align: center;
            line-height: 30px;
            font-weight: 600;
            text-shadow: none;
            letter-spacing: 0;
        }
        /* ä¹‹å­—æ ·å¼ï¼šæè‡´ç¼©å°åˆ°18px */
        .zhi-word {
            font-size: 18px; /* ä»22pxâ†’18pxï¼Œæ»¡è¶³"å†å°å†å°"è¦æ±‚ */
            color: #000;
            margin: 0 2px; /* ç¼©å°é—´è·ï¼Œæ›´ç´§å‡‘ */
            vertical-align: middle;
            font-weight: normal;
        }
        /* é¬¼è°·å­æ ·å¼ï¼šé‡‘é»„è‰² */
        .guiguzi-word {
            font-size: 36px;
            color: #f9d050;
            text-shadow: 1px 1px 0 #000;
            vertical-align: middle;
        }
        /* æ•°å­—é”®ç›˜å®¹å™¨ */
        .keyboard-wrap {
            background: #fff;
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 15px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        /* æ•°å­—æŒ‰é’®ç½‘æ ¼ */
        .num-keyboard {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 8px;
            margin-bottom: 10px;
        }
        .num-btn {
            padding: 18px 0;
            font-size: 18px;
            border: none;
            border-radius: 8px;
            color: white;
            cursor: pointer;
            font-weight: 500;
            background: linear-gradient(135deg, var(--btn-color-start), var(--btn-color-end));
            touch-action: manipulation;
        }
        /* æ•°å­—æŒ‰é’®é…è‰²ï¼ˆç²¾å‡†åŒ¹é…æˆªå›¾ï¼‰ */
        .num-1 {--btn-color-start: #4cc0b2; --btn-color-end: #3aa89b;}
        .num-2 {--btn-color-start: #7dd8e0; --btn-color-end: #6bc6ce;}
        .num-3 {--btn-color-start: #f9d050; --btn-color-end: #e8be40;}
        .num-4 {--btn-color-start: #8066e0; --btn-color-end: #6e54cc;}
        .num-5 {--btn-color-start: #a288f5; --btn-color-end: #9076e1;}
        .num-6 {--btn-color-start: #f879b5; --btn-color-end: #e768a4;}
        .num-7 {--btn-color-start: #f9b06f; --btn-color-end: #e89e5e;}
        .num-8 {--btn-color-start: #3cc98c; --btn-color-end: #2bb87b;}
        .num-9 {--btn-color-start: #e86c57; --btn-color-end: #d75b46;}
        .num-0 {--btn-color-start: #f8687a; --btn-color-end: #e75769;}
        /* é‡ç½®æŒ‰é’® */
        .reset-btn {
            width: 100%;
            padding: 12px;
            background: linear-gradient(135deg, #f8d7da, #f1c6cb);
            border: none;
            border-radius: 8px;
            color: #721c24;
            cursor: pointer;
            font-size: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 6px;
        }
        .reset-icon {
            font-size: 18px;
        }
        /* æ¦‚ç‡å¯¹åº”è¡¨ */
        .prob-table-wrap {
            background: #fff;
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 15px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        .prob-table-title {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 10px;
            color: #333;
        }
        .prob-table {
            width: 100%;
        }
        .prob-table th {
            text-align: left;
            font-weight: 500;
            color: #666;
            padding: 8px 0;
            font-size: 14px;
        }
        .prob-table td {
            padding: 8px 0;
            font-size: 15px;
            color: #333;
        }
        .prob-num {
            color: #007aff;
            font-weight: 500;
        }
        .suggest-tag {
            display: inline-block;
            background: #e5edff;
            color: #007aff;
            padding: 2px 6px;
            border-radius: 4px;
            margin-right: 4px;
            font-size: 14px;
        }
        /* æ ¸å¿ƒï¼šç»Ÿè®¡+å†å²åˆ†æå®¹å™¨ å®Œå…¨å›ºå®šå°ºå¯¸ */
        .data-wrap {
            display: flex;
            gap: 10px;
            height: 420px;
            width: 100%;
        }
        .stat-result, .history-analysis {
            flex: 1;
            background: #fff;
            border-radius: 12px;
            padding: 15px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            height: 100%;
            width: 50%;
            display: flex;
            flex-direction: column;
        }
        .data-title {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 10px;
            color: #333;
            flex-shrink: 0;
        }
        /* ç»Ÿè®¡ç»“æœåˆ—è¡¨ - å›ºå®šå®¹å™¨ï¼Œå†…éƒ¨æ»šåŠ¨ */
        .stat-list {
            font-size: 15px;
            flex: 1;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
        }
        .stat-item {
            display: flex;
            justify-content: space-between;
            padding: 4px 0;
        }
        .stat-num {
            color: #007aff;
            font-weight: 500;
        }
        /* å†å²åˆ†æå†…å®¹åŒº - å›ºå®šå®¹å™¨ï¼Œå†…éƒ¨æ»šåŠ¨ */
        .history-content {
            flex: 1;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
        }
        /* å†å²æ—¶é—´è½´ - æ ¸å¿ƒï¼šæ–‡å­—ç‹¬å ä¸€è¡Œï¼Œæ•°å­—ä¸‹æ–¹å®Œæ•´æ˜¾ç¤º */
        .history-timeline {
            margin-bottom: 10px;
            flex-shrink: 0;
        }
        .timeline-label {
            font-size: 14px;
            color: #333;
            margin-bottom: 4px;
            display: block;
        }
        .timeline-scroll-container {
            overflow-x: auto;
            white-space: nowrap;
            padding-bottom: 8px;
            width: 100%;
        }
        /* è‡ªå®šä¹‰æ»šåŠ¨æ¡ */
        .timeline-scroll-container::-webkit-scrollbar {
            height: 6px;
        }
        .timeline-scroll-container::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 3px;
        }
        .timeline-scroll-container::-webkit-scrollbar-thumb {
            background: #c1c1c1;
            border-radius: 3px;
        }
        .timeline-scroll-container {
            scrollbar-width: thin;
            scrollbar-color: #c1c1c1 #f1f1f1;
        }
        .timeline-tag {
            display: inline-block;
            width: 24px;
            height: 24px;
            line-height: 24px;
            text-align: center;
            border-radius: 50%;
            color: white;
            font-size: 12px;
            margin-right: 6px;
        }
        /* æ—¶é—´è½´æ ‡ç­¾é…è‰²ï¼ˆå’Œæ•°å­—æŒ‰é’®å®Œå…¨åŒ¹é…ï¼‰ */
        .timeline-tag-1 {background: #4cc0b2;}
        .timeline-tag-2 {background: #7dd8e0;}
        .timeline-tag-3 {background: #f9d050;}
        .timeline-tag-4 {background: #8066e0;}
        .timeline-tag-5 {background: #a288f5;}
        .timeline-tag-6 {background: #f879b5;}
        .timeline-tag-7 {background: #f9b06f;}
        .timeline-tag-8 {background: #3cc98c;}
        .timeline-tag-9 {background: #e86c57;}
        .timeline-tag-0 {background: #f8687a;}
        .history-text {
            font-size: 14px;
            color: #333;
            margin: 8px 0;
        }
        .no-appear-tag {
            display: inline-block;
            background: #ffebee;
            color: #e53935;
            padding: 2px 6px;
            border-radius: 4px;
            margin-right: 4px;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <!-- æ ‡é¢˜ï¼šå¾é€”+åŸå§‹å°ç« +ä¹‹é¬¼è°·å­ï¼ˆä¹‹å­—æè‡´ç¼©å°ï¼‰ -->
    <div class="title-wrap">
        <span class="zt-main">å¾é€”
            <span class="ys-seal">åŸå§‹</span>
        </span>
        <span class="zhi-word">ä¹‹</span>
        <span class="guiguzi-word">é¬¼è°·å­</span>
    </div>
    
    <!-- æ•°å­—é”®ç›˜ -->
    <div class="keyboard-wrap">
        <div class="num-keyboard">
            <button class="num-btn num-1">1</button>
            <button class="num-btn num-2">2</button>
            <button class="num-btn num-3">3</button>
            <button class="num-btn num-4">4</button>
            <button class="num-btn num-5">5</button>
            <button class="num-btn num-6">6</button>
            <button class="num-btn num-7">7</button>
            <button class="num-btn num-8">8</button>
            <button class="num-btn num-9">9</button>
            <button class="num-btn num-0">0</button>
        </div>
        <button class="reset-btn" id="resetBtn">
            <span class="reset-icon">ğŸ”„</span> é‡ç½®
        </button>
    </div>

    <!-- æ¦‚ç‡å¯¹åº”è¡¨ -->
    <div class="prob-table-wrap">
        <div class="prob-table-title">æ¦‚ç‡å¯¹åº”è¡¨</div>
        <table class="prob-table">
            <thead>
                <tr>
                    <th width="30%">å½“å‰æ•°å­—</th>
                    <th width="40%">é«˜æ¦‚ç‡å¯¹åº”æ•°å­—</th>
                    <th width="30%">å›´å·å»ºè®®</th>
                </tr>
            </thead>
            <tbody>
                <tr id="probRow">
                    <td></td>
                    <td>è¯·è¾“å…¥æ•°å­—æŸ¥çœ‹å¯¹åº”æ¦‚ç‡</td>
                    <td></td>
                </tr>
            </tbody>
        </table>
    </div>

    <!-- ç»Ÿè®¡+å†å²åˆ†æï¼ˆå›ºå®šå°ºå¯¸ï¼‰ -->
    <div class="data-wrap">
        <div class="stat-result">
            <div class="data-title">ç»Ÿè®¡ç»“æœï¼ˆè¿‘30æ¬¡ï¼‰</div>
            <div class="stat-list" id="statList"></div>
        </div>
        <div class="history-analysis">
            <div class="data-title">å†å²åˆ†æ</div>
            <div class="history-content">
                <div class="history-timeline">
                    <div class="timeline-label">å†å²æ—¶é—´è½´</div>
                    <div class="timeline-scroll-container" id="timelineScrollContainer">
                        <div id="timelineContent"></div>
                    </div>
                </div>
                <div class="history-text">20æ¬¡æœªå‡ºç°ï¼ˆè¿‘30æ¬¡å†…ï¼‰</div>
                <div id="noAppear20"></div>
                <div class="history-text">30æ¬¡æœªå‡ºç°ï¼ˆè¿‘30æ¬¡å†…ï¼‰</div>
                <div id="noAppear30"></div>
            </div>
        </div>
    </div>

    <script>
        // æ¦‚ç‡è§„åˆ™
        const probRules = {
            0: { highProb: '2, 5, 4, 7, 9', suggest: ['2', '4'] },
            1: { highProb: '2, 3, 6, 8, 9', suggest: ['3', '8'] },
            2: { highProb: '3, 4, 1, 5, 0', suggest: ['0', '4'] },
            3: { highProb: '1, 2, 4, 7, 6', suggest: ['4', '7'] },
            4: { highProb: '8, 2, 6, 5, 1', suggest: ['2', '5'] },
            5: { highProb: '2, 4, 7, 0, 9', suggest: ['2', '4'] },
            6: { highProb: '1, 4, 9, 5, 8', suggest: ['4', '8'] },
            7: { highProb: '0, 2, 3, 4, 6', suggest: ['4', '3'] },
            8: { highProb: '1, 3, 5, 6, 9', suggest: ['5', '9'] },
            9: { highProb: '4, 6, 8, 0, 1', suggest: ['6', '8'] }
        };

        // åˆå§‹åŒ–æ•°æ®
        const clickHistory = [];
        const recent30Clicks = [];

        // DOMå…ƒç´ 
        const statList = document.getElementById('statList');
        const probRow = document.getElementById('probRow');
        const timelineContent = document.getElementById('timelineContent');
        const timelineScrollContainer = document.getElementById('timelineScrollContainer');
        const noAppear20 = document.getElementById('noAppear20');
        const noAppear30 = document.getElementById('noAppear30');

        // 1. æ¸²æŸ“ç»Ÿè®¡åˆ—è¡¨
        function renderStat() {
            const count = {0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0};
            recent30Clicks.forEach(num => count[num]++);
            statList.innerHTML = '';
            for(let i=0; i<=9; i++) {
                statList.innerHTML += `
                    <div class="stat-item">
                        <span class="stat-num">${i}</span>
                        <span>${count[i]} æ¬¡</span>
                    </div>
                `;
            }
        }

        // 2. æ¸²æŸ“æ¦‚ç‡å¯¹åº”è¡¨
        function renderProb(num) {
            const rule = probRules[num];
            const suggestHtml = rule.suggest.map(s => `<span class="suggest-tag">${s}</span>`).join('');
            probRow.innerHTML = `
                <td class="prob-num">${num}</td>
                <td>${rule.highProb}</td>
                <td>${suggestHtml}</td>
            `;
        }

        // 3. æ¸²æŸ“æ—¶é—´è½´
        function renderTimeline() {
            if (clickHistory.length === 0) {
                timelineContent.innerHTML = '';
                return;
            }

            let timelineHtml = '';
            clickHistory.forEach((num, index) => {
                timelineHtml += `<span class="timeline-tag timeline-tag-${num}">${num}</span>`;
                if (index !== clickHistory.length - 1) {
                    timelineHtml += '-';
                }
            });
            timelineContent.innerHTML = timelineHtml;

            setTimeout(() => {
                timelineScrollContainer.scrollLeft = timelineScrollContainer.scrollWidth;
            }, 10);
        }

        // 4. æ¸²æŸ“æœªå‡ºç°æ•°å­—
        function renderNoAppear() {
            const appearedNums = new Set(recent30Clicks);
            const noAppearNums = [];
            for(let i=0; i<=9; i++) {
                if (!appearedNums.has(i)) noAppearNums.push(i);
            }
            const noAppearHtml = noAppearNums.map(n => `<span class="no-appear-tag">${n}</span>`).join('');
            noAppear20.innerHTML = noAppearHtml;
            noAppear30.innerHTML = noAppearHtml;
        }

        // 5. æ•°å­—æŒ‰é’®ç‚¹å‡»äº‹ä»¶
        document.querySelectorAll('.num-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                const num = parseInt(this.textContent);
                clickHistory.push(num);
                recent30Clicks.push(num);
                if (recent30Clicks.length > 30) recent30Clicks.shift();
                renderStat();
                renderProb(num);
                renderTimeline();
                renderNoAppear();
            });
        });

        // 6. é‡ç½®æŒ‰é’®
        document.getElementById('resetBtn').addEventListener('click', function() {
            clickHistory.length = 0;
            recent30Clicks.length = 0;
            renderStat();
            probRow.innerHTML = '<td></td><td>è¯·è¾“å…¥æ•°å­—æŸ¥çœ‹å¯¹åº”æ¦‚ç‡</td><td></td>';
            renderTimeline();
            renderNoAppear();
        });

        // åˆå§‹åŒ–
        renderStat();
        renderTimeline();
        renderNoAppear();
    </script>
</body>
</html>